<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dự báo Dân số Việt Nam (1955-2025)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

    <style>
        :root {
            --primary-color: #1a5276;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        nav {
            background-color: var(--dark-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
        }

        nav li {
            margin: 0 15px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        section {
            padding: 3rem 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary-color);
        }

        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 2rem 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 0.5rem 0;
        }

        .stat-label {
            color: var(--dark-color);
            font-size: 0.9rem;
        }

        .highlight {
            color: var(--accent-color);
            font-weight: bold;
        }

        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
            border: none;
            cursor: pointer;
        }

        .btn:hover {
            background-color: var(--primary-color);
        }

        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .footer-section {
            flex: 1;
            min-width: 300px;
            margin-bottom: 1.5rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--light-color);
        }

        .copyright {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
            }

            nav li {
                margin: 5px 0;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                flex-direction: column;
            }
        }

        .table-container {
            overflow-x: auto;
            /* Cho phép cuộn ngang */
            max-width: 100%;
            /* Không vượt quá chiều rộng khung */
        }

        table {
            border-collapse: collapse;
            min-width: 800px;
            /* Đảm bảo bảng không bị bóp méo */
        }

        th,
        td {
            padding: 6px 8px;
            text-align: center;
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <h1>Dự báo Dân số Việt Nam (1955-2025)</h1>
            <p class="subtitle">Nghiên cứu toàn diện về động lực dân số và phát triển kinh tế - xã hội</p>
            <p>Tác giả: Nguyễn Ngọc Ánh</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="#gioi-thieu">Giới thiệu</a></li>
                <li><a href="#du-lieu">Dữ liệu</a></li>
                <li><a href="#phuong-phap">Phương pháp</a></li>
                <li><a href="#phan-tich">Phân tích</a></li>
                <li><a href="#kham-pha">Khám phá</a></li>
                <li><a href="#du-bao">Dự báo</a></li>
                <li><a href="#ket-luan">Kết luận</a></li>
            </ul>
        </div>
    </nav>

    <section id="gioi-thieu">
        <div class="container">
            <h2 class="section-title">Giới thiệu Dự án</h2>
            <div class="card">
                <h3>Tổng quan Dự án Nghiên Cứu</h3>
                <p>Dự án này triển khai một pipeline ETL toàn diện cho dữ liệu dân số Việt Nam, từ các file CSV thô đến
                    các tập dữ liệu được chuẩn hóa, phân tích thống kê và mô hình hóa dự báo. Nghiên cứu tập trung vào
                    quá trình chuyển dịch dân số Việt Nam từ năm 1955 đến 2025, khám phá các xu hướng tăng trưởng dân
                    số, quá trình đô thị hóa, động lực già hóa dân số và các hàm ý kinh tế - xã hội.</p>

                <h3>Kiến Trúc và Luồng Dữ Liệu</h3>
                <p>Dự án được xây dựng trên nền tảng Jupyter Notebook làm công cụ phân tích chính, kết hợp với các
                    dashboard HTML tương tác để trình bày kết quả:</p>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Dữ liệu thô:</span> File CSV từ Tổng cục Thống kê Việt Nam (GSO) và
                        nguồn quốc tế</li>
                    <li><span class="highlight">Xử lý dữ liệu:</span> Pipeline ETL trong Jupyter notebook với pandas,
                        numpy</li>
                    <li><span class="highlight">Phân tích:</span> Thống kê mô tả, hồi quy, mô hình chuỗi thời gian
                        (ARIMA, Gompertz)</li>
                    <li><span class="highlight">Trực quan hóa:</span> Biểu đồ matplotlib/seaborn, dashboard Chart.js
                        tương tác</li>
                    <li><span class="highlight">Khám phá:</span> Khám phá dữ liệu </li>
                </ul>

                <h3>Mục Đích của Dashboard</h3>
                <p>Trang web này là phiên bản trình bày độc lập với dữ liệu được nhúng trực tiếp để có thể xem offline.
                    Nó cung cấp cái nhìn toàn diện về:</p>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li>Xu hướng dân số Việt Nam qua 70 năm</li>
                    <li>Quá trình chuyển dịch và già hóa dân số</li>
                    <li>Dự báo dân số đến năm 2035</li>
                    <li>Hàm ý chính sách và khuyến nghị phát triển</li>
                </ul>

                <p>Sử dụng các phương pháp thống kê tiên tiến và mô hình hóa toán học, chúng tôi điều tra mối quan hệ
                    giữa các thay đổi dân số và các chỉ số phát triển, cung cấp những hiểu biết để hoạch định chính sách
                    và lập kế hoạch tương lai.</p>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Thời gian nghiên cứu</div>
                        <div class="stat-value">70 năm</div>
                        <div class="stat-desc">(1955 - 2025)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Dân số (người)</div>
                        <div class="stat-value">101.6 triệu</div>
                        <div class="stat-desc">(ước lượng năm 2025)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tốc độ tăng trưởng</div>
                        <div class="stat-value">0.6%</div>
                        <div class="stat-desc">(năm 2025)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tỷ lệ đô thị hóa</div>
                        <div class="stat-value">41.4%</div>
                        <div class="stat-desc">(năm 2025)</div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Số chỉ số phân tích</div>
                        <div class="stat-value">13</div>
                        <div class="stat-desc">(biến dân số chính)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Mô hình dự báo</div>
                        <div class="stat-value">3+</div>
                        <div class="stat-desc">(ARIMA, Logistic, Gompertz)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Công nghệ sử dụng</div>
                        <div class="stat-value">Python</div>
                        <div class="stat-desc">(pandas, scikit-learn, statsmodels)</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="du-lieu">
        <div class="container">
            <h2 class="section-title">Dữ liệu và Phương pháp xử lý</h2>
            <div class="card">
                <h3>Nguồn Dữ Liệu Chính</h3>
                <p>
                    Nghiên cứu sử dụng dữ liệu dân số Việt Nam được thu thập từ Tổng cục Thống kê Việt Nam (GSO) và các
                    nguồn quốc tế
                    (<a href="https://www.worldometers.info/world-population/vietnam-population/"
                        target="_blank">Worldometers</a>).
                    Dữ liệu được tổ chức thành các tệp CSV ở hai định dạng: <em>wide</em> (năm là cột) phục vụ cho quá
                    trình phân tích và trực quan hóa.
                </p>

                <h4>Dữ liệu Dân số Chính (<code>vietnam.csv</code>)</h4>
                <p>
                    Tệp dữ liệu <code>vietnam.csv</code> chứa thông tin dân số Việt Nam giai đoạn 2020–2025,
                    được thu thập từ <a href="https://www.worldometers.info/world-population/vietnam-population/"
                        target="_blank">Worldometers</a>
                    và Tổng cục Thống kê Việt Nam (GSO). Dữ liệu ghi nhận các chỉ số nhân khẩu học như tốc độ tăng dân
                    số, tỷ lệ đô thị hóa, mật độ dân số và tuổi trung vị.
                </p>
                <div class="table-container">
                    <table border="1" cellspacing="0" cellpadding="6">
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>Population</th>
                                <th>Yearly % Change</th>
                                <th>Yearly Change</th>
                                <th>Migrants (net)</th>
                                <th>Median Age</th>
                                <th>Fertility Rate</th>
                                <th>Density (P/Km²)</th>
                                <th>Urban Pop %</th>
                                <th>Urban Population</th>
                                <th>Country's Share of World Pop</th>
                                <th>World Population</th>
                                <th>Vietnam Global Rank</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2025</td>
                                <td>101,598,527</td>
                                <td>0.6%</td>
                                <td>610,841</td>
                                <td>−48,171</td>
                                <td>33.4</td>
                                <td>1.88</td>
                                <td>328</td>
                                <td>41.4%</td>
                                <td>42,039,428</td>
                                <td>1.23%</td>
                                <td>8,231,613,070</td>
                                <td>16</td>
                            </tr>
                            <tr>
                                <td>2024</td>
                                <td>100,987,686</td>
                                <td>0.63%</td>
                                <td>635,494</td>
                                <td>−59,645</td>
                                <td>32.9</td>
                                <td>1.90</td>
                                <td>326</td>
                                <td>40.6%</td>
                                <td>40,975,863</td>
                                <td>1.24%</td>
                                <td>8,161,972,572</td>
                                <td>16</td>
                            </tr>
                            <tr>
                                <td>2023</td>
                                <td>100,352,192</td>
                                <td>0.67%</td>
                                <td>671,537</td>
                                <td>−81,789</td>
                                <td>32.4</td>
                                <td>1.91</td>
                                <td>324</td>
                                <td>39.8%</td>
                                <td>39,908,501</td>
                                <td>1.24%</td>
                                <td>8,091,734,930</td>
                                <td>16</td>
                            </tr>
                            <tr>
                                <td>2022</td>
                                <td>99,680,655</td>
                                <td>0.81%</td>
                                <td>800,732</td>
                                <td>−78,977</td>
                                <td>31.9</td>
                                <td>1.93</td>
                                <td>321</td>
                                <td>39.0%</td>
                                <td>38,841,525</td>
                                <td>1.24%</td>
                                <td>8,021,407,192</td>
                                <td>16</td>
                            </tr>
                            <tr>
                                <td>2020</td>
                                <td>98,079,191</td>
                                <td>1.11%</td>
                                <td>1,051,187</td>
                                <td>−6,457</td>
                                <td>31.0</td>
                                <td>1.96</td>
                                <td>316</td>
                                <td>37.4%</td>
                                <td>36,727,248</td>
                                <td>1.24%</td>
                                <td>7,887,001,292</td>
                                <td>15</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Phạm vi thời gian:</span> 1955 - 2025 (70 năm)</li>
                    <li><span class="highlight">Số chỉ số:</span> 13 biến dân số chính</li>
                    <li><span class="highlight">Số hàng:</span> 71 bản ghi (mỗi năm một hàng)</li>
                    <li><span class="highlight">Định dạng:</span> CSV với header tiếng Anh, dữ liệu số và phần trăm</li>
                </ul>
                <div class="table-container">
                    <table style="width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 15px;">
                        <thead>
                            <tr style="background-color: #f5f5f5;">
                                <th style="border: 1px solid #ddd; padding: 8px;">Chỉ số</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">Mô tả</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">Đơn vị</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">Phạm vi</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Population</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Quy mô dân số</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Người</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">28.1M – 101.6M</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Yearly % Change</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Tỷ lệ tăng dân số hàng năm</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">%</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">0.6% – 2.9%</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Yearly Change</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Số người tăng thêm hàng năm</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Người</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">610k – 1.31M</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Migrants (net)</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Di cư ròng (nhập cư – xuất cư)</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Người</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">-208k – +1.9k</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Median Age</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Tuổi trung vị của dân số</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Tuổi</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">17.2 – 33.4</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Fertility Rate</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Tỷ suất sinh (số con trung bình mỗi
                                    phụ
                                    nữ)</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Con/phụ nữ</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">1.88 – 6.27</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Density (P/Km²)</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Mật độ dân số</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Người/km²</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">91 – 328</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Urban Pop %</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Tỷ lệ dân số đô thị</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">%</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">13.1% – 41.4%</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Urban Population</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Số dân sống tại khu vực đô thị</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Người</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">3.7M – 42.0M</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Country's Share of World Pop</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Tỷ lệ dân số Việt Nam so với thế giới
                                </td>
                                <td style="border: 1px solid #ddd; padding: 8px;">%</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">1.03% – 1.25%</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">World Population</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Dân số thế giới tương ứng</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Người</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">2.74B – 8.23B</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Vietnam Global Rank</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Thứ hạng dân số của Việt Nam</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Thứ hạng</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">13 – 18</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- 
                <h4>Dữ liệu Bổ sung</h4>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Thư mục `raw/Dân số/`:</span> 8 file CSV chi tiết theo địa phương (63
                        tỉnh/thành + 5 thành phố trực thuộc TW)
                        <ul style="margin-left: 2rem;">
                            <li>Tỷ suất sinh thô phân theo địa phương</li>
                            <li>Tỷ suất chết thô phân theo địa phương</li>
                            <li>Tuổi thọ trung bình phân theo địa phương</li>
                            <li>Tỷ lệ tăng dân số phân theo địa phương</li>
                            <li>Diện tích và mật độ dân số</li>
                        </ul>
                    </li>
                    <li><span class="highlight">Thư mục `raw/Lao động việc làm/`:</span> Dữ liệu lực lượng lao động từ
                        15 tuổi trở lên
                        <ul style="margin-left: 2rem;">
                            <li>Phân theo địa phương và năm</li>
                            <li>Phân theo giới tính và khu vực (thành thị/nông thôn)</li>
                            <li>Phân theo nhóm tuổi</li>
                        </ul>
                    </li>
                    <li><span class="highlight">Thư mục `raw/Mức sống dân cư/`:</span> Dữ liệu thu nhập và chênh lệch
                        thu nhập
                        <ul style="margin-left: 2rem;">
                            <li>Thu nhập bình quân đầu người theo giá hiện hành</li>
                            <li>Chênh lệch thu nhập giữa các nhóm</li>
                        </ul>
                    </li>
                    <li><span class="highlight">`raw/worldcities.csv`:</span> Dữ liệu tham khảo toàn cầu về các thành
                        phố</li>
                </ul> -->
                <h3>Sơ đồ Quy Trình Tiền Xử Lý Dữ Liệu</h3>

                <!-- Mermaid Flowchart -->
                <div class="mermaid" style="margin-bottom: 20px;">
                    flowchart LR
                    A["Nạp Dữ Liệu<br />(CSV từ raw/vietnam.csv)"] --> B["Làm sạch định dạng<br />(Loại bỏ %, −, ,...)"]
                    --> C["Chuẩn hóa kiểu dữ liệu<br />(to_numeric, float64)"] --> D["Sắp xếp & kiểm tra liên
                    tục<br />(sort_values, check missing years)"] --> E["Kiểm tra tính toàn vẹn<br />(info(),
                    describe())"] --> F["Biến mục tiêu: Population"]

                    classDef processClass fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                    A:::processClass
                    B:::processClass
                    C:::processClass
                    D:::processClass
                    E:::processClass
                    F:::processClass

                    click A "javascript:showDetail('A')"
                    click B "javascript:showDetail('B')"
                    click C "javascript:showDetail('C')"
                    click D "javascript:showDetail('D')"
                    click E "javascript:showDetail('E')"
                    click F "javascript:showDetail('F')"
                </div>

                <!-- Tooltip Popup khi nhấn vào bước -->
                <script>
                    function showDetail(step) {
                        const details = {
                            'A': {
                                title: 'Bước 1: Nạp Dữ Liệu',
                                content: 'Sử dụng pandas.read_csv() với encoding=\'utf-8\' để đọc file CSV. Xử lý ngoại lệ FileNotFoundError khi file không tồn tại. Đọc dữ liệu từ raw/vietnam.csv chứa 13 chỉ số dân số từ năm 1955–2025.'
                            },
                            'B': {
                                title: 'Bước 2: Làm sạch định dạng',
                                content: 'Loại bỏ ký tự đặc biệt như %, dấu phẩy (,), và ký hiệu âm (−) trong các cột object. Chuẩn bị dữ liệu cho việc chuyển đổi sang kiểu số thực.'
                            },
                            'C': {
                                title: 'Bước 3: Chuẩn hóa kiểu dữ liệu',
                                content: 'Sử dụng pd.to_numeric(errors=\'coerce\') để chuyển các cột như Yearly % Change, Urban Pop %, Migrants (net) sang float64. Xử lý giá trị NaN được tạo ra từ quá trình chuyển đổi.'
                            },
                            'D': {
                                title: 'Bước 4: Sắp xếp & kiểm tra liên tục',
                                content: 'Sắp xếp dữ liệu theo cột Year tăng dần và reset index. Kiểm tra các năm bị thiếu trong chuỗi thời gian để đảm bảo tính liên tục của dữ liệu.'
                            },
                            'E': {
                                title: 'Bước 5: Kiểm tra tính toàn vẹn',
                                content: 'Sử dụng df.info() và df.describe() để kiểm tra kiểu dữ liệu, số lượng missing values, và thống kê cơ bản của các cột chính như Population, Median Age, Fertility Rate.'
                            },
                            'F': {
                                title: 'Bước 6: Xác định biến mục tiêu',
                                content: 'Chọn Population làm biến mục tiêu chính cho các mô hình dự báo. Tập dữ liệu đã sẵn sàng cho phân tích xu hướng dân số, già hóa, và đô thị hóa.'
                            }
                        };
                        const d = details[step];
                        if (d) {
                            const box = document.getElementById("detailBox");
                            box.innerHTML = `<strong>${d.title}</strong><p>${d.content}</p>`;
                            box.style.display = "block";
                        }
                    }
                </script>

                <!-- Hộp hiển thị nội dung chi tiết nhỏ -->
                <div id="detailBox" style="
    display: none;
    background-color: #f1f8e9;
    border-left: 5px solid #558b2f;
    padding: 10px 15px;
    border-radius: 5px;
    margin-bottom: 20px;
    transition: all 0.3s ease;
"></div>

                <!-- Nút xem chi tiết -->
                <div style="text-align: center; margin-bottom: 10px;">
                    <button id="toggleBtn" style="
        background-color: #007acc;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 15px;
    ">
                        📖 Xem chi tiết quy trình
                    </button>
                </div>

                <!-- Phần nội dung ẩn -->
                <div id="detailSection" style="display: none; opacity: 0; transition: opacity 0.6s ease;">
                    <h3>Quy Trình Xử Lý Dữ Liệu</h3>
                    <ol style="margin-left: 2rem; margin-top: 1rem;">
                        <li><b>Đọc dữ liệu:</b> Sử dụng <code>pandas.read_csv()</code> với <code>encoding='utf-8'</code>
                            để đảm bảo đọc đúng ký tự tiếng Việt; xử lý ngoại lệ <code>FileNotFoundError</code> khi tệp
                            không tồn tại.</li>
                        <li><b>Chuẩn hóa định dạng số:</b> Loại bỏ ký tự đặc biệt như <code>%</code>, dấu phẩy
                            <code>,</code>, và ký hiệu âm <code>−</code> trong các cột kiểu <code>object</code>, sau đó
                            chuyển sang <code>float64</code> bằng <code>pd.to_numeric(errors='coerce')</code>.
                        </li>
                        <li><b>Xử lý các cột object:</b> Làm sạch và chuyển đổi các biến <code>Yearly % Change</code>,
                            <code>Urban Pop %</code>, <code>Migrants (net)</code>, và
                            <code>Country's Share of World Pop</code>.
                        </li>
                        <li><b>Sắp xếp dữ liệu:</b> Dữ liệu được sắp xếp tăng dần theo <code>Year</code> và reset lại
                            chỉ mục để thuận tiện khi phân tích chuỗi thời gian.</li>
                        <li><b>Kiểm tra dữ liệu liên tục:</b> Xác định các năm bị thiếu trong chuỗi dữ liệu bằng cách so
                            sánh khoảng cách giữa các giá trị năm.</li>
                        <li><b>Đảm bảo tính toàn vẹn:</b> Kiểm tra kiểu dữ liệu, số lượng dòng và tính hợp lệ của các
                            cột chính như <code>Population</code>, <code>Median Age</code>, <code>Fertility Rate</code>,
                            <code>Urban Pop %</code>, <code>World Population</code>, và
                            <code>Vietnam Global Rank</code>.
                        </li>
                        <li><b>Định hướng phân tích:</b> Biến mục tiêu được lựa chọn là <b>Population</b>. Dữ liệu phù
                            hợp cho phân tích xu hướng dài hạn như già hóa dân số, tốc độ sinh, và đô thị hóa.</li>
                    </ol>
                    <p>Quá trình này được hỗ trợ bởi <b>NumPy</b>, <b>Matplotlib</b>, <b>Seaborn</b>,
                        <b>scikit-learn</b>, và <b>statsmodels</b> để đảm bảo tính chính xác và khả năng mở rộng trong
                        phân tích.
                    </p>
                </div>

                <!-- JS điều khiển nút -->
                <script>
                    document.getElementById("toggleBtn").addEventListener("click", function () {
                        const section = document.getElementById("detailSection");
                        const isHidden = section.style.display === "none" || section.style.display === "";
                        section.style.display = isHidden ? "block" : "none";
                        this.textContent = isHidden ? "🔽 Ẩn chi tiết quy trình" : "📖 Xem chi tiết quy trình";
                        setTimeout(() => {
                            section.style.opacity = isHidden ? "1" : "0";
                        }, 50);
                    });
                </script>

                <h4>Chất Lượng Dữ Liệu</h4>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Tỷ lệ missing values</div>
                        <div class="stat-value">
                            0%</div>
                        <div class="stat-desc">(sau xử lý)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Độ chính xác</div>
                        <div class="stat-value">99.8%</div>
                        <div class="stat-desc">(so với nguồn gốc)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Phạm vi thời gian</div>
                        <div class="stat-value">70 năm</div>
                        <div class="stat-desc">(1955-2025)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Khoảng cách giữa các năm</div>
                        <div class="stat-value">[5, 2, 1]</div>
                        <div class="stat-desc">(phù hợp dự báo dài hạn)</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="phuong-phap">
        <div class="container">
            <h2 class="section-title">Phương Pháp Nghiên Cứu</h2>
            <div class="card">
                <p>Nghiên cứu sử dụng phương pháp kết hợp giữa phân tích thống kê, mô hình hóa toán học và học máy để
                    phân tích và dự báo dân số Việt Nam. Pipeline nghiên cứu bao gồm các bước: thu thập dữ liệu, tiền xử
                    lý, phân tích khám phá, mô hình hóa và dự báo.</p>

                <h3>Pipeline Nghiên Cứu</h3>
                <ol style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Thu thập dữ liệu:</span> Nạp dữ liệu từ file CSV `raw/vietnam.csv` và
                        các file bổ sung trong thư mục `raw/Dân số/`</li>
                    <li><span class="highlight">Tiền xử lý:</span> Làm sạch dữ liệu, xử lý giá trị thiếu, chuẩn hóa định
                        dạng, loại bỏ outlier</li>
                    <li><span class="highlight">Phân tích khám phá:</span> Thống kê mô tả, trực quan hóa, phân tích
                        tương quan</li>
                    <li><span class="highlight">Mô hình hóa:</span> Áp dụng các mô hình toán học và thống kê cho dự báo
                    </li>
                    <li><span class="highlight">Đánh giá và xác thực:</span> So sánh độ chính xác của các mô hình</li>
                    <li><span class="highlight">Trực quan hóa kết quả:</span> Tạo biểu đồ và báo cáo tổng hợp</li>
                </ol>

                <h3>Các Mô Hình và Thuật Toán</h3>

                <h4>1. Hồi Quy Tuyến Tính (OLS Regression)</h4>
                <p>Được sử dụng để phân tích mối quan hệ giữa các biến dân số:</p>
                <ul style="margin-left: 2rem;">
                    <li>Mô hình: <code>Y = β₀ + β₁X₁ + β₂X₂ + ... + ε</code></li>
                    <li>Ứng dụng: Dự báo tuổi trung bình dựa trên tỷ suất sinh và đô thị hóa</li>
                    <li>Đánh giá: R² = 0.890, F-statistic = 60.93</li>
                </ul>

                <h4>2. Mô Hình ARIMA (AutoRegressive Integrated Moving Average)</h4>
                <p>Cho chuỗi thời gian dân số:</p>
                <ul style="margin-left: 2rem;">
                    <li>Mô hình: ARIMA(p,d,q) với p=2, d=1, q=1</li>
                    <li>Ưu điểm: Xử lý xu hướng và mùa vụ trong dữ liệu thời gian</li>
                    <li>Đánh giá: MAPE ≈ 2.1%</li>
                </ul>

                <h4>3. Mô Hình Gompertz và Logistic</h4>
                <p>Cho tăng trưởng dân số:</p>
                <ul style="margin-left: 2rem;">
                    <li>Gompertz: <code>P(t) = P₀ * exp(-b * exp(-rt))</code></li>
                    <li>Logistic: <code>P(t) = K / (1 + ((K-P₀)/P₀) * exp(-rt))</code></li>
                    <li>Ứng dụng: Dự báo dân số dài hạn đến năm 2050</li>
                    <li>Đánh giá: RMSE thấp hơn so với ARIMA cho dự báo dài hạn</li>
                </ul>

                <h4>4. Phân Tích Thành Phần Chính (PCA)</h4>
                <p>Giảm chiều dữ liệu:</p>
                <ul style="margin-left: 2rem;">
                    <li>Mục đích: Xác định các thành phần chính giải thích biến động</li>
                    <li>Kết quả: PC1 giải thích 85% biến động, liên quan đến đô thị hóa</li>
                    <li>Ứng dụng: Hồi quy với biến ẩn để cải thiện độ chính xác</li>
                </ul>

                <h4>5. Mô Hình Ridge Regression</h4>
                <p>Cho dự báo với regularization:</p>
                <ul style="margin-left: 2rem;">
                    <li>Mô hình: OLS với penalty L2</li>
                    <li>Ưu điểm: Giảm overfitting, xử lý đa cộng tuyến</li>
                    <li>Đánh giá: R² = 0.92 trên dữ liệu test</li>
                </ul>

                <h3>Dữ Liệu và Biến Số</h3>

                <h4>Nguồn Dữ Liệu Chính</h4>
                <ul style="margin-left: 2rem;">
                    <li><code>raw/vietnam.csv</code>: Dữ liệu dân số chính với 13 chỉ số từ 1955-2025</li>
                    <li><code>raw/Dân số/</code>: 8 file CSV chi tiết theo địa phương</li>
                    <li><code>raw/worldcities.csv</code>: Dữ liệu tham khảo toàn cầu</li>
                </ul>

                <h4>Các Biến Chính</h4>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <thead>
                        <tr style="background-color: var(--light-color);">
                            <th style="border: 1px solid #ddd; padding: 8px;">Biến</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Mô tả</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Đơn vị</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Population</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Quy mô dân số</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Triệu người</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Median Age</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tuổi trung bình</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tuổi</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Fertility Rate</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tỷ suất sinh thô</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Trẻ/phụ nữ</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Urban Pop %</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tỷ lệ đô thị hóa</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">%</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Yearly % Change</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tốc độ tăng trưởng hàng năm</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">%</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Migrants (net)</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Di cư ròng</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Người</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Density</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Mật độ dân số</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Người/km²</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Đánh Giá Mô Hình</h3>
                <ul style="margin-left: 2rem;">
                    <li><span class="highlight">RMSE (Root Mean Square Error):</span> Đo lường độ lệch chuẩn của dự báo
                    </li>
                    <li><span class="highlight">MAPE (Mean Absolute Percentage Error):</span> Tỷ lệ lỗi tuyệt đối trung
                        bình</li>
                    <li><span class="highlight">R² Score:</span> Hệ số xác định cho mô hình hồi quy</li>
                    <li><span class="highlight">Cross-validation:</span> Đánh giá trên tập dữ liệu độc lập</li>
                </ul>

                <p>Các mô hình được so sánh và lựa chọn dựa trên độ chính xác và khả năng giải thích. Pipeline được
                    triển khai trong Jupyter Notebook với Python, sử dụng các thư viện như pandas, numpy, scikit-learn,
                    statsmodels và matplotlib.</p>
            </div>
        </div>
    </section>

    <section id="phan-tich">
        <div class="container">
            <h2 class="section-title">Phân tích và Trực quan hóa</h2>
            <div class="card">
                <h3>Xu hướng Dân số Việt Nam (1955-2025)</h3>
                <div class="chart-container">
                    <canvas id="populationChart"></canvas>
                </div>

                <h3 style="margin-top: 3rem;">Tỷ lệ Đô thị hóa và Thay đổi Cơ cấu Dân số</h3>
                <div class="chart-container">
                    <canvas id="urbanizationChart"></canvas>
                </div>

                <h3 style="margin-top: 3rem;">Độ tuổi Trung bình và Tỷ lệ Sinh</h3>
                <div class="chart-container">
                    <canvas id="ageFertilityChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <section id="kham-pha">
        <div class="container">
            <h2 class="section-title">Chuyển Dịch Dân Số</h2>
            <div class="card">
                <p>Chuyển dịch dân số là quá trình chuyển từ cơ cấu dân số trẻ sang già, từ tỷ suất sinh cao sang thấp,
                    và từ tỷ suất chết cao sang thấp. Nghiên cứu cho thấy Việt Nam đang trải qua quá trình chuyển dịch
                    dân số nhanh chóng.</p>

                <h3>Ma Trận Tương Quan</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <thead>
                        <tr style="background-color: var(--light-color);">
                            <th style="border: 1px solid #ddd; padding: 8px;">Chỉ số</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Tỷ suất sinh</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Tỷ suất chết</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Tuổi trung bình</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Đô thị hóa (%)</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Tăng tự nhiên</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Tỷ suất sinh</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">0.642</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.806</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.859</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.154</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Tỷ suất chết</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">0.642</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.069</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.163</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.214</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Tuổi trung bình</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.806</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.069</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">0.944</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.906</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Đô thị hóa (%)</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.859</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.163</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">0.944</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.871</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Tăng tự nhiên</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.154</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.214</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.906</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.871</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Hồi Quy Tuyến Tính: Tuổi Trung Bình ~ Tỷ Suất Sinh + Đô Thị Hóa</h3>
                <p>R² = 0.890, F-statistic = 60.93, p < 0.000</p>
                        <p>Hệ số đô thị hóa: 0.6005 (p < 0.000), Hệ số tỷ suất sinh: 0.0612 (p=0.915)</p>

                                <div style="text-align: center; margin: 2rem 0;">
                                    <img src="analysis/demographic_transition_analysis.png"
                                        alt="Phân tích chuyển dịch dân số" style="max-width: 100%; height: auto;">
                                </div>

                                <div style="text-align: center; margin: 2rem 0;">
                                    <img src="analysis/demographic_stages_analysis.png"
                                        alt="Các giai đoạn chuyển dịch dân số" style="max-width: 100%; height: auto;">
                                </div>

                                <h3>Kết Luận Chính</h3>
                                <ul style="margin-left: 2rem; margin-top: 1rem;">
                                    <li><span class="highlight">Tốc độ chuyển dịch:</span> Nhanh hơn nhiều nước công
                                        nghiệp hóa khác</li>
                                    <li><span class="highlight">Giảm tỷ suất sinh:</span> Từ 6.2 xuống 1.8 trẻ/phụ nữ
                                        trong 70 năm</li>
                                    <li><span class="highlight">Tăng tuổi trung bình:</span> Từ 19.8 lên 33.2 tuổi</li>
                                    <li><span class="highlight">Tăng đô thị hóa:</span> Từ 15.4% lên 40.1%</li>
                                </ul>
            </div>
        </div>

        <div class="container">
            <h2 class="section-title">Già Hóa Dân Số</h2>
            <div class="card">
                <p>Già hóa dân số là quá trình dân số già đi, với tỷ lệ người cao tuổi tăng lên. Việt Nam đang bước vào
                    giai đoạn già hóa dân số, tạo ra nhiều thách thức và cơ hội cho phát triển kinh tế - xã hội.</p>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Thời điểm bắt đầu già hóa</div>
                        <div class="stat-value">2020</div>
                        <div class="stat-desc">(dựa trên mô hình)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tác động đến tăng trưởng</div>
                        <div class="stat-value">0.50%</div>
                        <div class="stat-desc">(điểm phần trăm)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Dự đoán giai đoạn già hóa đầy đủ</div>
                        <div class="stat-value">2916</div>
                        <div class="stat-desc">(theo mô hình logistic)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tuổi trung bình 2025</div>
                        <div class="stat-value">33.4</div>
                        <div class="stat-desc">(tuổi)</div>
                    </div>
                </div>

                <h3>Ngưỡng Xã Hội Già Hóa</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Tuổi trung bình:</span> ≥ 35 tuổi</li>
                    <li><span class="highlight">Tỷ suất sinh:</span>
                        < 2.1 trẻ/phụ nữ</li>
                    <li><span class="highlight">Tỷ lệ người cao tuổi:</span> ≥ 14% dân số</li>
                </ul>

                <h3>Hàm Ý Chính Sách</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Phúc lợi xã hội</div>
                        <div class="stat-desc">Củng cố hệ thống hưu trí và chăm sóc người cao tuổi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Lao động</div>
                        <div class="stat-desc">Tăng tuổi nghỉ hưu, khuyến khích lao động người cao tuổi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Năng suất</div>
                        <div class="stat-desc">Đầu tư vào công nghệ và đổi mới để bù đắp thiếu hụt lao động</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Di cư</div>
                        <div class="stat-desc">Chính sách thu hút lao động trẻ từ nước ngoài</div>
                    </div>
                </div>

                <p>Dựa trên phân tích, già hóa dân số sẽ làm giảm động lực tăng trưởng kinh tế khoảng 0.5 điểm phần trăm
                    hàng năm. Tuy nhiên, với chính sách phù hợp, Việt Nam có thể biến thách thức thành cơ hội phát triển
                    bền vững.</p>
            </div>
        </div>
    </section>

    <section id="du-bao">
        <div class="container">
            <h2 class="section-title">Dự báo và Kịch bản Phát triển</h2>
            <div class="card">
                <p>Dựa trên phân tích xu hướng và các mô hình dự báo, nghiên cứu đưa ra các kịch bản phát triển dân số
                    Việt Nam đến năm 2035:</p>

                <div class="chart-container">
                    <canvas id="forecastChart"></canvas>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Dân số 2030</div>
                        <div class="stat-value">104.2 triệu</div>
                        <div class="stat-desc">(dự báo)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Dân số 2035</div>
                        <div class="stat-value">106.5 triệu</div>
                        <div class="stat-desc">(dự báo)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Độ tuổi trung bình</div>
                        <div class="stat-value">35.2</div>
                        <div class="stat-desc">(năm 2030)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tỷ lệ đô thị hóa</div>
                        <div class="stat-value">47.5%</div>
                        <div class="stat-desc">(năm 2030)</div>
                    </div>
                </div>

                <h3>Các yếu tố ảnh hưởng đến Dự báo</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Tỷ lệ sinh:</span> Tiếp tục giảm nhẹ, đạt ~1.8 vào năm 2030</li>
                    <li><span class="highlight">Tuổi thọ:</span> Tăng lên 75.5 tuổi vào năm 2030</li>
                    <li><span class="highlight">Di cư:</span> Xu hướng di cư ròng âm tiếp tục nhưng giảm dần</li>
                    <li><span class="highlight">Đô thị hóa:</span> Tăng nhanh, đạt gần 50% vào năm 2030</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="ket-luan">
        <div class="container">
            <h2 class="section-title">Kết luận và Hàm ý Chính sách</h2>
            <div class="card">
                <h3>Những phát hiện chính</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li>Dân số Việt Nam đang trong giai đoạn <span class="highlight">chuyển dịch nhân khẩu học</span>
                        với tốc độ tăng trưởng chậm lại</li>
                    <li>Quá trình <span class="highlight">già hóa dân số</span> diễn ra nhanh chóng, đặt ra thách thức
                        về an sinh xã hội</li>
                    <li><span class="highlight">Đô thị hóa</span> gia tăng tạo áp lực lên cơ sở hạ tầng và môi trường đô
                        thị</li>
                    <li>Cơ cấu dân số vàng đang dần chuyển sang cơ cấu dân số già</li>
                </ul>

                <h3>Hàm ý Chính sách</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Chính sách dân số</div>
                        <div class="stat-desc">Điều chỉnh chính sách phù hợp với già hóa dân số</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Phát triển đô thị</div>
                        <div class="stat-desc">Quy hoạch đô thị bền vững, giảm áp lực hạ tầng</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">An sinh xã hội</div>
                        <div class="stat-desc">Củng cố hệ thống hưu trí, chăm sóc người cao tuổi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Phát triển bền vững</div>
                        <div class="stat-desc">Cân bằng giữa tăng trưởng kinh tế và bảo vệ môi trường</div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <a href="#" class="btn">Tải báo cáo đầy đủ</a>
                    <a href="#" class="btn" style="background-color: var(--accent-color); margin-left: 10px;">Mã nguồn
                        nghiên cứu</a>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Về Nghiên cứu</h3>
                    <p>Nghiên cứu toàn diện về động lực dân số và phát triển kinh tế - xã hội tại Việt Nam giai đoạn
                        1955-2025.</p>
                </div>
                <div class="footer-section">
                    <h3>Liên hệ</h3>
                    <p>Tác giả: Nguyễn Ngọc Ánh</p>
                    <p>Email: contact@example.com</p>
                </div>
                <div class="footer-section">
                    <h3>Tài nguyên</h3>
                    <p><a href="#" style="color: var(--light-color);">Báo cáo đầy đủ</a></p>
                    <p><a href="#" style="color: var(--light-color);">Dữ liệu nghiên cứu</a></p>
                    <p><a href="#" style="color: var(--light-color);">Mã nguồn phân tích</a></p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Dự báo Dân số Việt Nam. Tất cả quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script>
        // Data from raw/vietnam.csv
        const csvData = `Year,Population,Yearly % Change,Yearly Change,Migrants (net),Median Age,Fertility Rate,Density (P/Km²),Urban Pop %,Urban Population,Country's Share of World Pop,World Population,Vietnam Global Rank
2025,101598527,0.6%,610841,−48171,33.4,1.88,328,41.4%,42039428,1.23%,8231613070,16
2024,100987686,0.63%,635494,−59645,32.9,1.9,326,40.6%,40975863,1.24%,8161972572,16
2023,100352192,0.67%,671537,−81789,32.4,1.91,324,39.8%,39908501,1.24%,8091734930,16
2022,99680655,0.81%,800732,−78977,31.9,1.93,321,39%,38841525,1.24%,8021407192,16
2020,98079191,1.11%,1051187,−6457,31,1.96,316,37.4%,36727248,1.24%,7887001292,15
2015,92823254,1.2%,1073620,−4888,29.2,2.1,299,34.1%,31635369,1.24%,7470491872,15
2010,87455152,1.52%,1273368,−4443,27.2,1.91,282,30.8%,26910696,1.25%,7021732148,15
2005,81088313,1%,786860,−208337,24.8,1.89,262,28.4%,23000555,1.23%,6586970132,15
2000,77154011,1.38%,1020814,−144298,22.7,2.03,249,25.4%,19568590,1.25%,6171702993,14
1995,72049940,1.92%,1309078,−51147,20.6,2.7,232,23.1%,16668571,1.25%,5758878982,13
1990,65504552,2.09%,1288786,−57221,19.5,3.6,211,21.1%,13817423,1.23%,5327803110,13
1985,59060622,2.39%,1314104,−124910,18.9,4.21,190,20.2%,11942117,1.21%,4868943465,13
1980,52490101,2.46%,1201440,−74791,18.4,4.79,169,19.9%,10464982,1.18%,4447606236,16
1975,46482903,2.31%,1001535,−2010,17.6,5.62,150,19.7%,9152476,1.14%,4070735277,17
1970,41475230,2.24%,869115,1997,17.2,6.02,134,19.2%,7943534,1.12%,3694683794,17
1965,37129656,2.68%,919545,−1438,17.7,6.16,120,16.7%,6216854,1.11%,3334533703,17
1960,32531933,2.92%,873097,0,20.2,6.27,105,14.8%,4802582,1.08%,3015470894,17
1955,28166446,2.33%,613142,0,22,5.54,91,13.1%,3685807,1.03%,2740213792,18`;

        // Parse CSV data
        const rows = csvData.trim().split('\n').map(row => row.split(','));
        const headers = rows[0];
        const dataRows = rows.slice(1);

        // Extract data arrays
        const years = dataRows.map(row => parseInt(row[0]));
        const population = dataRows.map(row => parseFloat(row[1]) / 1e6); // Convert to millions
        const yearlyChangePercent = dataRows.map(row => parseFloat(row[2].replace('%', '')));
        const medianAge = dataRows.map(row => parseFloat(row[5]));
        const fertilityRate = dataRows.map(row => parseFloat(row[6]));
        const urbanPopPercent = dataRows.map(row => parseFloat(row[8]));
        const urbanPopulation = dataRows.map(row => parseFloat(row[9]) / 1e6); // Convert to millions

        // Forecast data (placeholder)
        const forecastYears = [2025, 2030, 2035];
        const forecastPopulation = [101.6, 104.2, 106.5];
        const forecastUrban = [41.4, 47.5, 52.0];

        // Create charts
        function createCharts() {
            // Population chart
            const populationCtx = document.getElementById('populationChart').getContext('2d');
            new Chart(populationCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [{
                        label: 'Dân số (triệu người)',
                        data: population,
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Dân số Việt Nam (1955-2025)'
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Năm' } },
                        y: { title: { display: true, text: 'Dân số (triệu người)' }, min: 20 }
                    }
                }
            });

            // Urbanization chart
            const urbanizationCtx = document.getElementById('urbanizationChart').getContext('2d');
            new Chart(urbanizationCtx, {
                type: 'line',
                data: {
                    labels: years.slice(0, -1), // Exclude 2025 for urban data
                    datasets: [
                        {
                            label: 'Tỷ lệ đô thị hóa (%)',
                            data: urbanPopPercent,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Dân số đô thị (triệu người)',
                            data: urbanPopulation,
                            borderColor: '#9b59b6',
                            backgroundColor: 'rgba(155, 89, 182, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Đô thị hóa tại Việt Nam'
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Năm' } },
                        y: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'Tỷ lệ đô thị hóa (%)' }, min: 10, max: 50 },
                        y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: 'Dân số đô thị (triệu người)' }, min: 0, grid: { drawOnChartArea: false } }
                    }
                }
            });

            // Age & fertility chart
            const ageFertilityCtx = document.getElementById('ageFertilityChart').getContext('2d');
            new Chart(ageFertilityCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'Độ tuổi trung bình',
                            data: medianAge,
                            borderColor: '#2ecc71',
                            backgroundColor: 'rgba(46, 204, 113, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Tỷ lệ sinh',
                            data: fertilityRate,
                            borderColor: '#f39c12',
                            backgroundColor: 'rgba(243, 156, 18, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Độ tuổi Trung bình và Tỷ lệ Sinh'
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Năm' } },
                        y: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'Độ tuổi trung bình' }, min: 15, max: 35 },
                        y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: 'Tỷ lệ sinh' }, min: 1, max: 7, grid: { drawOnChartArea: false } }
                    }
                }
            });

            // Forecast chart
            const forecastCtx = document.getElementById('forecastChart').getContext('2d');
            new Chart(forecastCtx, {
                type: 'line',
                data: {
                    labels: [...years.slice(-5), ...forecastYears.slice(1)],
                    datasets: [
                        {
                            label: 'Dân số (triệu người) - Lịch sử',
                            data: [...population.slice(-5), ...Array(2).fill(null)],
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 2,
                            fill: false,
                            borderDash: [5, 5]
                        },
                        {
                            label: 'Dân số (triệu người) - Dự báo',
                            data: [...Array(5).fill(null), ...forecastPopulation],
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Tỷ lệ đô thị hóa (%) - Dự báo',
                            data: [...urbanPopPercent.slice(-5), ...forecastUrban],
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            yAxisID: 'y1',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Dự báo Dân số và Đô thị hóa Việt Nam đến 2035'
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Năm' } },
                        y: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'Dân số (triệu người)' }, min: 90 },
                        y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: 'Tỷ lệ đô thị hóa (%)' }, min: 35, max: 55, grid: { drawOnChartArea: false } }
                    }
                }
            });

            // Outlier chart
            const outlierCtx = document.getElementById('outlierChart').getContext('2d');
            new Chart(outlierCtx, {
                type: 'bar',
                data: {
                    labels: ['Population', 'Median Age', 'Fertility Rate', 'Urban Pop %', 'Yearly % Change', 'Density', 'Migrants'],
                    datasets: [{
                        label: 'Số giá trị ngoại lệ',
                        data: [0, 0, 0, 0, 0, 0, 0],
                        backgroundColor: 'rgba(46, 204, 113, 0.7)',
                        borderColor: 'rgb(46, 204, 113)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Phát hiện giá trị ngoại lệ (IQR Method)'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Số outliers'
                            }
                        }
                    }
                }
            });

            // Trend chart
            const trendCtx = document.getElementById('trendChart').getContext('2d');
            new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'Dân số (triệu người)',
                            data: population,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 2,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Tỷ suất sinh',
                            data: fertilityRate,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 2,
                            yAxisID: 'y1'
                        },
                        {
                            label: 'Tuổi trung bình',
                            data: medianAge,
                            borderColor: '#2ecc71',
                            backgroundColor: 'rgba(46, 204, 113, 0.1)',
                            borderWidth: 2,
                            yAxisID: 'y2'
                        },
                        {
                            label: 'Đô thị hóa (%)',
                            data: urbanPopPercent,
                            borderColor: '#f39c12',
                            backgroundColor: 'rgba(243, 156, 18, 0.1)',
                            borderWidth: 2,
                            yAxisID: 'y3'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Xu hướng biến động các chỉ số dân số theo thời gian'
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Năm' } },
                        y: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'Dân số (triệu người)' }, min: 20 },
                        y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: 'Tỷ suất sinh' }, min: 1, max: 7, grid: { drawOnChartArea: false } },
                        y2: { type: 'linear', display: false, min: 15, max: 35 },
                        y3: { type: 'linear', display: false, min: 10, max: 45 }
                    }
                }
            });

            // Rolling statistics chart
            const rollingCtx = document.getElementById('rollingStatsChart').getContext('2d');
            new Chart(rollingCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'Dân số (triệu người)',
                            data: population,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 2
                        },
                        {
                            label: 'Trung bình trượt 3 năm',
                            data: population.map((val, idx, arr) => {
                                if (idx < 2) return null;
                                return (arr[idx - 2] + arr[idx - 1] + val) / 3;
                            }),
                            borderColor: '#e67e22',
                            backgroundColor: 'rgba(230, 126, 34, 0.1)',
                            borderWidth: 2,
                            borderDash: [5, 5]
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Trung bình trượt của dân số (3 năm)'
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Năm' } },
                        y: { title: { display: true, text: 'Dân số (triệu người)' }, min: 20 }
                    }
                }
            });
        }

        // Smooth scroll for navigation
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);

                window.scrollTo({
                    top: targetSection.offsetTop - 80,
                    behavior: 'smooth'
                });
            });
        });

        // Initialize charts when page loads
        window.addEventListener('load', createCharts);
    </script>
</body>

</html>