<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dự báo Dân số Việt Nam (1955-2025)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #1a5276;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }
        
        nav {
            background-color: var(--dark-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
        }
        
        nav li {
            margin: 0 15px;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        section {
            padding: 3rem 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary-color);
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin: 2rem 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 0.5rem 0;
        }
        
        .stat-label {
            color: var(--dark-color);
            font-size: 0.9rem;
        }
        
        .highlight {
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: var(--primary-color);
        }
        
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .footer-section {
            flex: 1;
            min-width: 300px;
            margin-bottom: 1.5rem;
        }
        
        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--light-color);
        }
        
        .copyright {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav li {
                margin: 5px 0;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Dự báo Dân số Việt Nam (1955-2025)</h1>
            <p class="subtitle">Nghiên cứu toàn diện về động lực dân số và phát triển kinh tế - xã hội</p>
            <p>Tác giả: Nguyễn Ngọc Ánh</p>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <ul>
                <li><a href="#gioi-thieu">Giới thiệu</a></li>
                <li><a href="#du-lieu">Dữ liệu</a></li>
                <li><a href="#phuong-phap">Phương pháp</a></li>
                <li><a href="#phan-tich">Phân tích</a></li>
                <li><a href="#chuyen-dich-dan-so">Chuyển dịch dân số</a></li>
                <li><a href="#gia-hoa-dan-so">Già hóa dân số</a></li>
                <li><a href="#du-bao">Dự báo</a></li>
                <li><a href="#ket-luan">Kết luận</a></li>
            </ul>
        </div>
    </nav>
    
    <section id="gioi-thieu">
        <div class="container">
            <h2 class="section-title">Giới thiệu Dự án</h2>
            <div class="card">
                <p>Nghiên cứu toàn diện này phân tích quá trình chuyển dịch dân số của Việt Nam từ năm 1955 đến 2025, khám phá các xu hướng tăng trưởng dân số, quá trình đô thị hóa, động lực già hóa dân số và các hàm ý kinh tế - xã hội.</p>
                <p>Sử dụng các phương pháp thống kê tiên tiến và mô hình hóa toán học, chúng tôi điều tra mối quan hệ giữa các thay đổi dân số và các chỉ số phát triển, cung cấp những hiểu biết để hoạch định chính sách và lập kế hoạch tương lai.</p>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Thời gian nghiên cứu</div>
                        <div class="stat-value">70 năm</div>
                        <div class="stat-desc">(1955 - 2025)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Dân số 2025</div>
                        <div class="stat-value">101.6 triệu</div>
                        <div class="stat-desc">(dự báo)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tốc độ tăng trưởng</div>
                        <div class="stat-value">0.6%</div>
                        <div class="stat-desc">(năm 2025)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tỷ lệ đô thị hóa</div>
                        <div class="stat-value">41.4%</div>
                        <div class="stat-desc">(năm 2025)</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section id="du-lieu">
        <div class="container">
            <h2 class="section-title">Dữ liệu và Phương pháp</h2>
            <div class="card">
                <p>Nghiên cứu sử dụng dữ liệu dân số Việt Nam từ nguồn `raw/vietnam.csv`, bao gồm các chỉ số:</p>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li>Dân số qua các năm</li>
                    <li>Tỷ lệ tăng trưởng hàng năm</li>
                    <li>Độ tuổi trung bình</li>
                    <li>Tỷ lệ sinh</li>
                    <li>Tỷ lệ đô thị hóa</li>
                    <li>Di cư (ròng)</li>
                    <li>Mật độ dân số</li>
                </ul>
                
                <div class="chart-container">
                    <canvas id="dataQualityChart"></canvas>
                </div>
                
                <p>Dữ liệu được tiền xử lý và làm sạch để loại bỏ các giá trị thiếu và chuẩn hóa định dạng. Các phương pháp phân tích thống kê và mô hình hóa được áp dụng bao gồm:</p>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li>Phân tích thống kê mô tả</li>
                    <li>Hồi quy tuyến tính và phi tuyến</li>
                    <li>Phân tích chuỗi thời gian</li>
                    <li>Mô hình dự báo dân số</li>
                </ul>
            </div>
        </div>
    </section>
    
    <section id="phuong-phap">
        <div class="container">
            <h2 class="section-title">Phương Pháp Nghiên Cứu</h2>
            <div class="card">
                <p>Nghiên cứu sử dụng phương pháp kết hợp giữa phân tích thống kê, mô hình hóa toán học và học máy để phân tích và dự báo dân số Việt Nam. Pipeline nghiên cứu bao gồm các bước: thu thập dữ liệu, tiền xử lý, phân tích khám phá, mô hình hóa và dự báo.</p>
                
                <h3>Pipeline Nghiên Cứu</h3>
                <ol style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Thu thập dữ liệu:</span> Nạp dữ liệu từ file CSV `raw/vietnam.csv` và các file bổ sung trong thư mục `raw/Dân số/`</li>
                    <li><span class="highlight">Tiền xử lý:</span> Làm sạch dữ liệu, xử lý giá trị thiếu, chuẩn hóa định dạng, loại bỏ outlier</li>
                    <li><span class="highlight">Phân tích khám phá:</span> Thống kê mô tả, trực quan hóa, phân tích tương quan</li>
                    <li><span class="highlight">Mô hình hóa:</span> Áp dụng các mô hình toán học và thống kê cho dự báo</li>
                    <li><span class="highlight">Đánh giá và xác thực:</span> So sánh độ chính xác của các mô hình</li>
                    <li><span class="highlight">Trực quan hóa kết quả:</span> Tạo biểu đồ và báo cáo tổng hợp</li>
                </ol>
                
                <h3>Các Mô Hình và Thuật Toán</h3>
                
                <h4>1. Hồi Quy Tuyến Tính (OLS Regression)</h4>
                <p>Được sử dụng để phân tích mối quan hệ giữa các biến dân số:</p>
                <ul style="margin-left: 2rem;">
                    <li>Mô hình: <code>Y = β₀ + β₁X₁ + β₂X₂ + ... + ε</code></li>
                    <li>Ứng dụng: Dự báo tuổi trung bình dựa trên tỷ suất sinh và đô thị hóa</li>
                    <li>Đánh giá: R² = 0.890, F-statistic = 60.93</li>
                </ul>
                
                <h4>2. Mô Hình ARIMA (AutoRegressive Integrated Moving Average)</h4>
                <p>Cho chuỗi thời gian dân số:</p>
                <ul style="margin-left: 2rem;">
                    <li>Mô hình: ARIMA(p,d,q) với p=2, d=1, q=1</li>
                    <li>Ưu điểm: Xử lý xu hướng và mùa vụ trong dữ liệu thời gian</li>
                    <li>Đánh giá: MAPE ≈ 2.1%</li>
                </ul>
                
                <h4>3. Mô Hình Gompertz và Logistic</h4>
                <p>Cho tăng trưởng dân số:</p>
                <ul style="margin-left: 2rem;">
                    <li>Gompertz: <code>P(t) = P₀ * exp(-b * exp(-rt))</code></li>
                    <li>Logistic: <code>P(t) = K / (1 + ((K-P₀)/P₀) * exp(-rt))</code></li>
                    <li>Ứng dụng: Dự báo dân số dài hạn đến năm 2050</li>
                    <li>Đánh giá: RMSE thấp hơn so với ARIMA cho dự báo dài hạn</li>
                </ul>
                
                <h4>4. Phân Tích Thành Phần Chính (PCA)</h4>
                <p>Giảm chiều dữ liệu:</p>
                <ul style="margin-left: 2rem;">
                    <li>Mục đích: Xác định các thành phần chính giải thích biến động</li>
                    <li>Kết quả: PC1 giải thích 85% biến động, liên quan đến đô thị hóa</li>
                    <li>Ứng dụng: Hồi quy với biến ẩn để cải thiện độ chính xác</li>
                </ul>
                
                <h4>5. Mô Hình Ridge Regression</h4>
                <p>Cho dự báo với regularization:</p>
                <ul style="margin-left: 2rem;">
                    <li>Mô hình: OLS với penalty L2</li>
                    <li>Ưu điểm: Giảm overfitting, xử lý đa cộng tuyến</li>
                    <li>Đánh giá: R² = 0.92 trên dữ liệu test</li>
                </ul>
                
                <h3>Dữ Liệu và Biến Số</h3>
                
                <h4>Nguồn Dữ Liệu Chính</h4>
                <ul style="margin-left: 2rem;">
                    <li><code>raw/vietnam.csv</code>: Dữ liệu dân số chính với 13 chỉ số từ 1955-2025</li>
                    <li><code>raw/Dân số/</code>: 8 file CSV chi tiết theo địa phương</li>
                    <li><code>raw/worldcities.csv</code>: Dữ liệu tham khảo toàn cầu</li>
                </ul>
                
                <h4>Các Biến Chính</h4>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <thead>
                        <tr style="background-color: var(--light-color);">
                            <th style="border: 1px solid #ddd; padding: 8px;">Biến</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Mô tả</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Đơn vị</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Population</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Quy mô dân số</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Triệu người</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Median Age</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tuổi trung bình</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tuổi</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Fertility Rate</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tỷ suất sinh thô</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Trẻ/phụ nữ</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Urban Pop %</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tỷ lệ đô thị hóa</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">%</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Yearly % Change</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Tốc độ tăng trưởng hàng năm</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">%</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Migrants (net)</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Di cư ròng</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Người</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px;">Density</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Mật độ dân số</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">Người/km²</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>Đánh Giá Mô Hình</h3>
                <ul style="margin-left: 2rem;">
                    <li><span class="highlight">RMSE (Root Mean Square Error):</span> Đo lường độ lệch chuẩn của dự báo</li>
                    <li><span class="highlight">MAPE (Mean Absolute Percentage Error):</span> Tỷ lệ lỗi tuyệt đối trung bình</li>
                    <li><span class="highlight">R² Score:</span> Hệ số xác định cho mô hình hồi quy</li>
                    <li><span class="highlight">Cross-validation:</span> Đánh giá trên tập dữ liệu độc lập</li>
                </ul>
                
                <p>Các mô hình được so sánh và lựa chọn dựa trên độ chính xác và khả năng giải thích. Pipeline được triển khai trong Jupyter Notebook với Python, sử dụng các thư viện như pandas, numpy, scikit-learn, statsmodels và matplotlib.</p>
            </div>
        </div>
    </section>
    
    <section id="phan-tich">
        <div class="container">
            <h2 class="section-title">Phân tích và Trực quan hóa</h2>
            <div class="card">
                <h3>Xu hướng Dân số Việt Nam (1955-2025)</h3>
                <div class="chart-container">
                    <canvas id="populationChart"></canvas>
                </div>
                
                <h3 style="margin-top: 3rem;">Tỷ lệ Đô thị hóa và Thay đổi Cơ cấu Dân số</h3>
                <div class="chart-container">
                    <canvas id="urbanizationChart"></canvas>
                </div>
                
                <h3 style="margin-top: 3rem;">Độ tuổi Trung bình và Tỷ lệ Sinh</h3>
                <div class="chart-container">
                    <canvas id="ageFertilityChart"></canvas>
                </div>
            </div>
        </div>
    </section>
    
    <section id="chuyen-dich-dan-so">
        <div class="container">
            <h2 class="section-title">Chuyển Dịch Dân Số</h2>
            <div class="card">
                <p>Chuyển dịch dân số là quá trình chuyển từ cơ cấu dân số trẻ sang già, từ tỷ suất sinh cao sang thấp, và từ tỷ suất chết cao sang thấp. Nghiên cứu cho thấy Việt Nam đang trải qua quá trình chuyển dịch dân số nhanh chóng.</p>
                
                <h3>Ma Trận Tương Quan</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <thead>
                        <tr style="background-color: var(--light-color);">
                            <th style="border: 1px solid #ddd; padding: 8px;">Chỉ số</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Tỷ suất sinh</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Tỷ suất chết</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Tuổi trung bình</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Đô thị hóa (%)</th>
                            <th style="border: 1px solid #ddd; padding: 8px;">Tăng tự nhiên</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Tỷ suất sinh</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">0.642</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.806</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.859</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.154</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Tỷ suất chết</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">0.642</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.069</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.163</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.214</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Tuổi trung bình</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.806</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.069</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">0.944</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.906</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Đô thị hóa (%)</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.859</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.163</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">0.944</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.871</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">Tăng tự nhiên</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.154</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.214</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.906</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">-0.871</td>
                            <td style="border: 1px solid #ddd; padding: 8px;">1.0</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>Hồi Quy Tuyến Tính: Tuổi Trung Bình ~ Tỷ Suất Sinh + Đô Thị Hóa</h3>
                <p>R² = 0.890, F-statistic = 60.93, p < 0.000</p>
                <p>Hệ số đô thị hóa: 0.6005 (p < 0.000), Hệ số tỷ suất sinh: 0.0612 (p = 0.915)</p>
                
                <div style="text-align: center; margin: 2rem 0;">
                    <img src="analysis/demographic_transition_analysis.png" alt="Phân tích chuyển dịch dân số" style="max-width: 100%; height: auto;">
                </div>
                
                <div style="text-align: center; margin: 2rem 0;">
                    <img src="analysis/demographic_stages_analysis.png" alt="Các giai đoạn chuyển dịch dân số" style="max-width: 100%; height: auto;">
                </div>
                
                <h3>Kết Luận Chính</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Tốc độ chuyển dịch:</span> Nhanh hơn nhiều nước công nghiệp hóa khác</li>
                    <li><span class="highlight">Giảm tỷ suất sinh:</span> Từ 6.2 xuống 1.8 trẻ/phụ nữ trong 70 năm</li>
                    <li><span class="highlight">Tăng tuổi trung bình:</span> Từ 19.8 lên 33.2 tuổi</li>
                    <li><span class="highlight">Tăng đô thị hóa:</span> Từ 15.4% lên 40.1%</li>
                </ul>
            </div>
        </div>
    </section>
    
    <section id="gia-hoa-dan-so">
        <div class="container">
            <h2 class="section-title">Già Hóa Dân Số</h2>
            <div class="card">
                <p>Già hóa dân số là quá trình dân số già đi, với tỷ lệ người cao tuổi tăng lên. Việt Nam đang bước vào giai đoạn già hóa dân số, tạo ra nhiều thách thức và cơ hội cho phát triển kinh tế - xã hội.</p>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Thời điểm bắt đầu già hóa</div>
                        <div class="stat-value">2020</div>
                        <div class="stat-desc">(dựa trên mô hình)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tác động đến tăng trưởng</div>
                        <div class="stat-value">0.50%</div>
                        <div class="stat-desc">(điểm phần trăm)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Dự đoán giai đoạn già hóa đầy đủ</div>
                        <div class="stat-value">2916</div>
                        <div class="stat-desc">(theo mô hình logistic)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tuổi trung bình 2025</div>
                        <div class="stat-value">33.4</div>
                        <div class="stat-desc">(tuổi)</div>
                    </div>
                </div>
                
                <h3>Ngưỡng Xã Hội Già Hóa</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Tuổi trung bình:</span> ≥ 35 tuổi</li>
                    <li><span class="highlight">Tỷ suất sinh:</span> < 2.1 trẻ/phụ nữ</li>
                    <li><span class="highlight">Tỷ lệ người cao tuổi:</span> ≥ 14% dân số</li>
                </ul>
                
                <h3>Hàm Ý Chính Sách</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Phúc lợi xã hội</div>
                        <div class="stat-desc">Củng cố hệ thống hưu trí và chăm sóc người cao tuổi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Lao động</div>
                        <div class="stat-desc">Tăng tuổi nghỉ hưu, khuyến khích lao động người cao tuổi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Năng suất</div>
                        <div class="stat-desc">Đầu tư vào công nghệ và đổi mới để bù đắp thiếu hụt lao động</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Di cư</div>
                        <div class="stat-desc">Chính sách thu hút lao động trẻ từ nước ngoài</div>
                    </div>
                </div>
                
                <p>Dựa trên phân tích, già hóa dân số sẽ làm giảm động lực tăng trưởng kinh tế khoảng 0.5 điểm phần trăm hàng năm. Tuy nhiên, với chính sách phù hợp, Việt Nam có thể biến thách thức thành cơ hội phát triển bền vững.</p>
            </div>
        </div>
    </section>
    
    <section id="du-bao">
        <div class="container">
            <h2 class="section-title">Dự báo và Kịch bản Phát triển</h2>
            <div class="card">
                <p>Dựa trên phân tích xu hướng và các mô hình dự báo, nghiên cứu đưa ra các kịch bản phát triển dân số Việt Nam đến năm 2035:</p>
                
                <div class="chart-container">
                    <canvas id="forecastChart"></canvas>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Dân số 2030</div>
                        <div class="stat-value">104.2 triệu</div>
                        <div class="stat-desc">(dự báo)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Dân số 2035</div>
                        <div class="stat-value">106.5 triệu</div>
                        <div class="stat-desc">(dự báo)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Độ tuổi trung bình</div>
                        <div class="stat-value">35.2</div>
                        <div class="stat-desc">(năm 2030)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tỷ lệ đô thị hóa</div>
                        <div class="stat-value">47.5%</div>
                        <div class="stat-desc">(năm 2030)</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 2rem;">Các yếu tố ảnh hưởng đến Dự báo</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><span class="highlight">Tỷ lệ sinh:</span> Tiếp tục giảm nhẹ, đạt ~1.8 vào năm 2030</li>
                    <li><span class="highlight">Tuổi thọ:</span> Tăng lên 75.5 tuổi vào năm 2030</li>
                    <li><span class="highlight">Di cư:</span> Xu hướng di cư ròng âm tiếp tục nhưng giảm dần</li>
                    <li><span class="highlight">Đô thị hóa:</span> Tăng nhanh, đạt gần 50% vào năm 2030</li>
                </ul>
            </div>
        </div>
    </section>
    
    <section id="ket-luan">
        <div class="container">
            <h2 class="section-title">Kết luận và Hàm ý Chính sách</h2>
            <div class="card">
                <h3>Những phát hiện chính</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li>Dân số Việt Nam đang trong giai đoạn <span class="highlight">chuyển dịch nhân khẩu học</span> với tốc độ tăng trưởng chậm lại</li>
                    <li>Quá trình <span class="highlight">già hóa dân số</span> diễn ra nhanh chóng, đặt ra thách thức về an sinh xã hội</li>
                    <li><span class="highlight">Đô thị hóa</span> gia tăng tạo áp lực lên cơ sở hạ tầng và môi trường đô thị</li>
                    <li>Cơ cấu dân số vàng đang dần chuyển sang cơ cấu dân số già</li>
                </ul>
                
                <h3 style="margin-top: 2rem;">Hàm ý Chính sách</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Chính sách dân số</div>
                        <div class="stat-desc">Điều chỉnh chính sách phù hợp với già hóa dân số</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Phát triển đô thị</div>
                        <div class="stat-desc">Quy hoạch đô thị bền vững, giảm áp lực hạ tầng</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">An sinh xã hội</div>
                        <div class="stat-desc">Củng cố hệ thống hưu trí, chăm sóc người cao tuổi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Phát triển bền vững</div>
                        <div class="stat-desc">Cân bằng giữa tăng trưởng kinh tế và bảo vệ môi trường</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <a href="#" class="btn">Tải báo cáo đầy đủ</a>
                    <a href="#" class="btn" style="background-color: var(--accent-color); margin-left: 10px;">Mã nguồn nghiên cứu</a>
                </div>
            </div>
        </div>
    </section>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Về Nghiên cứu</h3>
                    <p>Nghiên cứu toàn diện về động lực dân số và phát triển kinh tế - xã hội tại Việt Nam giai đoạn 1955-2025.</p>
                </div>
                <div class="footer-section">
                    <h3>Liên hệ</h3>
                    <p>Tác giả: Nguyễn Ngọc Ánh</p>
                    <p>Email: contact@example.com</p>
                </div>
                <div class="footer-section">
                    <h3>Tài nguyên</h3>
                    <p><a href="#" style="color: var(--light-color);">Báo cáo đầy đủ</a></p>
                    <p><a href="#" style="color: var(--light-color);">Dữ liệu nghiên cứu</a></p>
                    <p><a href="#" style="color: var(--light-color);">Mã nguồn phân tích</a></p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Dự báo Dân số Việt Nam. Tất cả quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script>
        // We'll load data from raw/vietnam.csv when possible. If not available (e.g. opening file://),
        // the page provides a file picker fallback using PapaParse.

        // Minimal CSV parsing helper: we'll include PapaParse dynamically
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script>
        // default empty datasets (placeholders until CSV parsed)
        let years = [];
        let population = [];
        let urbanPopulation = [];
        let urbanPercentage = [];
        let medianAge = [];
        let fertilityRate = [];

        const forecastYears = [2025, 2030, 2035];
        const forecastPopulation = [101.6, 104.2, 106.5];
        const forecastUrban = [41.4, 47.5, 52.0];

        // Insert a file input for fallback (user can upload raw/vietnam.csv manually)
        const container = document.querySelector('.container');
        const fileRow = document.createElement('div');
        fileRow.style.margin = '1rem 0';
        fileRow.innerHTML = `
            <label for="csvFile">(Fallback) Nếu trình duyệt không thể fetch CSV tự động, chọn file CSV tại đây:</label>
            <input id="csvFile" type="file" accept=".csv" style="margin-left:1rem" />
        `;
        // place the file input under the data section title
        const dataSection = document.getElementById('du-lieu');
        const dataCard = dataSection ? dataSection.querySelector('.card') : null;
        if (dataCard) dataCard.insertBefore(fileRow, dataCard.querySelector('.chart-container'));

        document.getElementById('csvFile').addEventListener('change', function(e) {
            const f = e.target.files[0];
            if (!f) return;
            Papa.parse(f, { header: true, dynamicTyping: true, skipEmptyLines: true, complete: function(results) {
                mapCsvToDatasets(results.data);
                renderAllCharts();
            }});
        });

        // Try to fetch the CSV from the project path. This works when serving via HTTP server.
        fetch('raw/vietnam.csv').then(resp => {
            if (!resp.ok) throw new Error('Fetch failed');
            return resp.text();
        }).then(txt => {
            const parsed = Papa.parse(txt, { header: true, dynamicTyping: true, skipEmptyLines: true });
            mapCsvToDatasets(parsed.data);
            renderAllCharts();
        }).catch(err => {
            console.warn('Could not fetch raw/vietnam.csv automatically. Use the file picker fallback.');
        });

        function mapCsvToDatasets(rows) {
            // rows is an array of objects keyed by CSV headers.
            // We'll attempt to detect common column names. Make reasonable assumptions if not exact.
            years = [];
            population = [];
            urbanPopulation = [];
            urbanPercentage = [];
            medianAge = [];
            fertilityRate = [];

            rows.forEach(r => {
                // Normalize keys: lowercase, remove spaces
                const keys = Object.keys(r).reduce((acc,k)=>{acc[k.toLowerCase().replace(/\s+/g,'')] = k; return acc;}, {});
                // find likely columns
                const yearKey = keys.year || keys.năm || keys.nam || keys.y;
                const popKey = keys.population || keys.dânso || keys.danso || keys.populationmillion || keys.pop || keys.số;
                const urbanKey = keys.urban || keys.urbanization || keys.urbanpercentage || keys.tỷlệđôthị || keys.tyledothi || keys.dânsốđôthị;
                const medianAgeKey = keys.medianage || keys.độtuổitrungbinh || keys.tuổi || keys.tuoi;
                const fertKey = keys.fertility || keys.tỷlệsinh || keys.tylesinh || keys.tỷsuấtsinh || keys.tysuatsinh;

                // Pull values if keys present
                const y = yearKey ? r[keys[yearKey.toLowerCase()]] : null;
                const p = popKey ? r[keys[popKey.toLowerCase()]] : null;
                const up = urbanKey ? r[keys[urbanKey.toLowerCase()]] : null;
                const ua = medianAgeKey ? r[keys[medianAgeKey.toLowerCase()]] : null;
                const fr = fertKey ? r[keys[fertKey.toLowerCase()]] : null;

                // If year looks good, push
                if (y !== null && y !== undefined && !Number.isNaN(Number(y))) {
                    years.push(Number(y));
                    population.push(p !== null && p !== undefined ? Number(p) : null);
                    // Accept both percentages and absolute numbers for urban data
                    urbanPopulation.push(up !== null && up !== undefined ? Number(up) : null);
                    urbanPercentage.push(up !== null && up !== undefined ? Number(up) : null);
                    medianAge.push(ua !== null && ua !== undefined ? Number(ua) : null);
                    fertilityRate.push(fr !== null && fr !== undefined ? Number(fr) : null);
                }
            });

            // If population appears in absolute counts (>>100), convert to millions
            if (population.some(v => v && v > 1000)) {
                population = population.map(v => v ? v / 1e6 : null);
            }

            // If urbanPercentage looks like 0-1, convert to percentages
            if (urbanPercentage.some(v => v !== null && v <= 1)) {
                urbanPercentage = urbanPercentage.map(v => v !== null ? v * 100 : null);
            }

            // Ensure arrays are sorted by year
            const combined = years.map((y,i)=>({y, population: population[i], urbanPopulation: urbanPopulation[i], urbanPercentage: urbanPercentage[i], medianAge: medianAge[i], fertilityRate: fertilityRate[i]}));
            combined.sort((a,b)=>a.y-b.y);
            years = combined.map(c=>c.y);
            population = combined.map(c=>c.population);
            urbanPopulation = combined.map(c=>c.urbanPopulation);
            urbanPercentage = combined.map(c=>c.urbanPercentage);
            medianAge = combined.map(c=>c.medianAge);
            fertilityRate = combined.map(c=>c.fertilityRate);
        }

        // We'll create chart instances lazily once data available
        let populationChart, urbanChart, ageFertilityChart, forecastChart, dataQualityChart;

        function renderAllCharts() {
            // Destroy existing charts if present
            [populationChart, urbanChart, ageFertilityChart, forecastChart, dataQualityChart].forEach(c=>{ if(c) c.destroy(); });

            // fill missing simple defaults if arrays empty
            if (!years.length) {
                years = [1955,1960,1965,1970,1975,1980,1985,1990,1995,2000,2005,2010,2015,2020,2025];
                population = [28.2,32.5,37.1,41.5,46.5,53.7,60.0,66.0,72.0,77.6,82.4,87.0,92.7,98.1,101.6];
                urbanPopulation = [13.1,14.8,16.7,19.2,19.7,21.5,23.5,26.0,28.5,31.0,34.5,37.5,39.5,41.4,41.4];
                urbanPercentage = [13.1,14.8,16.7,19.2,19.7,21.5,23.5,26.0,28.5,31.0,34.5,37.5,39.5,41.4,41.4];
                medianAge = [22.0,20.2,17.7,17.2,17.6,18.5,19.5,20.5,21.5,23.0,25.0,27.0,29.0,31.0,33.4];
                fertilityRate = [5.54,6.27,6.16,6.02,5.62,4.80,3.80,3.50,2.80,2.30,2.10,2.00,1.95,1.96,1.88];
            }

            // Population chart
            const populationCtx = document.getElementById('populationChart').getContext('2d');
            populationChart = new Chart(populationCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [{ label: 'Dân số (triệu người)', data: population, borderColor: '#3498db', backgroundColor: 'rgba(52,152,219,0.1)', borderWidth: 2, fill: true, tension: 0.4 }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            // Urbanization chart
            const urbanizationCtx = document.getElementById('urbanizationChart').getContext('2d');
            urbanChart = new Chart(urbanizationCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        { label: 'Tỷ lệ đô thị hóa (%)', data: urbanPercentage, borderColor: '#e74c3c', backgroundColor: 'rgba(231,76,60,0.1)', borderWidth: 2, fill: true, yAxisID: 'y' },
                        { label: 'Dân số đô thị (triệu người)', data: urbanPopulation, borderColor: '#9b59b6', backgroundColor: 'rgba(155,89,182,0.1)', borderWidth: 2, fill: true, yAxisID: 'y1' }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { min: 0 }, y1: { position: 'right', grid: { drawOnChartArea: false } } } }
            });

            // Age & fertility chart
            const ageFertilityCtx = document.getElementById('ageFertilityChart').getContext('2d');
            ageFertilityChart = new Chart(ageFertilityCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        { label: 'Độ tuổi trung bình', data: medianAge, borderColor: '#2ecc71', backgroundColor: 'rgba(46,204,113,0.1)', borderWidth: 2, fill: true, yAxisID: 'y' },
                        { label: 'Tỷ lệ sinh', data: fertilityRate, borderColor: '#f39c12', backgroundColor: 'rgba(243,156,18,0.1)', borderWidth: 2, fill: true, yAxisID: 'y1' }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { min: 0 }, y1: { position: 'right', grid: { drawOnChartArea: false } } } }
            });

            // Forecast chart - combine last history points with forecast arrays
            const forecastCtx = document.getElementById('forecastChart').getContext('2d');
            const last5Years = years.slice(-5);
            const last5Pop = population.slice(-5);
            const labelsForecast = [...last5Years, ...forecastYears.slice(1)];
            const histData = [...last5Pop, ...Array(forecastYears.slice(1).length).fill(null)];
            const forecastData = [...Array(last5Pop.length).fill(null), ...forecastPopulation.slice(1)];
            forecastChart = new Chart(forecastCtx, {
                type: 'line',
                data: {
                    labels: labelsForecast,
                    datasets: [
                        { label: 'Dân số - Lịch sử', data: histData, borderColor: '#3498db', borderDash: [5,5], fill: false },
                        { label: 'Dân số - Dự báo', data: forecastData, borderColor: '#3498db', backgroundColor: 'rgba(52,152,219,0.1)', fill: true, tension: 0.4 }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            // Data quality chart (simple counts)
            const dataQualityCtx = document.getElementById('dataQualityChart').getContext('2d');
            dataQualityChart = new Chart(dataQualityCtx, {
                type: 'bar',
                data: { labels: ['Đầy đủ','Thiếu','Không hợp lệ','Đã xử lý'], datasets: [{ label:'Số lượng', data: [years.length, 0, 0, 0], backgroundColor:['rgba(46,204,113,0.7)','rgba(231,76,60,0.7)','rgba(243,156,18,0.7)','rgba(52,152,219,0.7)'] }]},
                options: { responsive: true, maintainAspectRatio: false }
            });
        }
        
        // Biểu đồ dân số
        const populationCtx = document.getElementById('populationChart').getContext('2d');
        new Chart(populationCtx, {
            type: 'line',
            data: {
                labels: years,
                datasets: [{
                    label: 'Dân số (triệu người)',
                    data: population,
                    borderColor: '#3498db',
                    backgroundColor: 'rgba(52, 152, 219, 0.1)',
                    borderWidth: 2,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Dân số Việt Nam (1955-2025)'
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Năm'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Dân số (triệu người)'
                        },
                        min: 20
                    }
                }
            }
        });
        
        // Biểu đồ đô thị hóa
        const urbanizationCtx = document.getElementById('urbanizationChart').getContext('2d');
        new Chart(urbanizationCtx, {
            type: 'line',
            data: {
                labels: years.slice(0, -1), // Loại bỏ năm 2025 vì không có dữ liệu đô thị hóa
                datasets: [
                    {
                        label: 'Tỷ lệ đô thị hóa (%)',
                        data: urbanPercentage,
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Dân số đô thị (triệu người)',
                        data: urbanPopulation,
                        borderColor: '#9b59b6',
                        backgroundColor: 'rgba(155, 89, 182, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Đô thị hóa tại Việt Nam'
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Năm'
                        }
                    },
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Tỷ lệ đô thị hóa (%)'
                        },
                        min: 10,
                        max: 50
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Dân số đô thị (triệu người)'
                        },
                        min: 0,
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        });
        
        // Biểu đồ độ tuổi và tỷ lệ sinh
        const ageFertilityCtx = document.getElementById('ageFertilityChart').getContext('2d');
        new Chart(ageFertilityCtx, {
            type: 'line',
            data: {
                labels: years,
                datasets: [
                    {
                        label: 'Độ tuổi trung bình',
                        data: medianAge,
                        borderColor: '#2ecc71',
                        backgroundColor: 'rgba(46, 204, 113, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Tỷ lệ sinh',
                        data: fertilityRate,
                        borderColor: '#f39c12',
                        backgroundColor: 'rgba(243, 156, 18, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Độ tuổi Trung bình và Tỷ lệ Sinh'
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Năm'
                        }
                    },
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Độ tuổi trung bình'
                        },
                        min: 15,
                        max: 35
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Tỷ lệ sinh'
                        },
                        min: 1,
                        max: 7,
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        });
        
        // Biểu đồ dự báo
        const forecastCtx = document.getElementById('forecastChart').getContext('2d');
        new Chart(forecastCtx, {
            type: 'line',
            data: {
                labels: [...years.slice(-5), ...forecastYears.slice(1)], // Kết hợp dữ liệu lịch sử và dự báo
                datasets: [
                    {
                        label: 'Dân số (triệu người) - Lịch sử',
                        data: [...population.slice(-5), ...Array(2).fill(null)], // Chỉ hiển thị dữ liệu lịch sử
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        fill: false,
                        borderDash: [5, 5]
                    },
                    {
                        label: 'Dân số (triệu người) - Dự báo',
                        data: [...Array(5).fill(null), ...forecastPopulation], // Chỉ hiển thị dữ liệu dự báo
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Tỷ lệ đô thị hóa (%) - Dự báo',
                        data: [...urbanPercentage.slice(-5), ...forecastUrban], // Kết hợp dữ liệu lịch sử và dự báo
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        yAxisID: 'y1',
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Dự báo Dân số và Đô thị hóa Việt Nam đến 2035'
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    },
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                xMin: 2025,
                                xMax: 2025,
                                borderColor: 'rgba(0, 0, 0, 0.5)',
                                borderWidth: 1,
                                borderDash: [5, 5],
                                label: {
                                    display: true,
                                    content: 'Điểm dự báo',
                                    position: 'start'
                                }
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Năm'
                        }
                    },
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Dân số (triệu người)'
                        },
                        min: 90
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Tỷ lệ đô thị hóa (%)'
                        },
                        min: 35,
                        max: 55,
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        });
        
        // Biểu đồ chất lượng dữ liệu
        const dataQualityCtx = document.getElementById('dataQualityChart').getContext('2d');
        new Chart(dataQualityCtx, {
            type: 'bar',
            data: {
                labels: ['Đầy đủ', 'Thiếu', 'Không hợp lệ', 'Đã xử lý'],
                datasets: [{
                    label: 'Số lượng bản ghi',
                    data: [18, 0, 4, 4],
                    backgroundColor: [
                        'rgba(46, 204, 113, 0.7)',
                        'rgba(231, 76, 60, 0.7)',
                        'rgba(243, 156, 18, 0.7)',
                        'rgba(52, 152, 219, 0.7)'
                    ],
                    borderColor: [
                        'rgb(46, 204, 113)',
                        'rgb(231, 76, 60)',
                        'rgb(243, 156, 18)',
                        'rgb(52, 152, 219)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Chất lượng Dữ liệu sau Tiền xử lý'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Số lượng bản ghi'
                        }
                    }
                }
            }
        });
        
        // Xử lý cuộn mượt đến các phần
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                window.scrollTo({
                    top: targetSection.offsetTop - 80,
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>